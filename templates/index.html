<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lakshmi AI - Advanced AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .neon-glow {
            box-shadow: 0 0 30px rgba(236, 72, 153, 0.4);
        }
        
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .chat-message {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .typing-indicator {
            animation: typing 1.4s infinite;
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        .holographic {
            background: linear-gradient(45deg, #ec4899, #f59e0b, #10b981, #3b82f6, #8b5cf6);
            background-size: 400% 400%;
            animation: holographic 4s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        @keyframes holographic {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .lotus-orb {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #ec4899, #f59e0b, #10b981, #3b82f6, #8b5cf6, #ec4899);
            animation: rotate 15s linear infinite;
            position: relative;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .lotus-orb::before {
            content: '';
            position: absolute;
            inset: 8px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
        }
        
        .dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            backdrop-filter: blur(20px);
            border-radius: 16px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            z-index: 1000;
            min-width: 280px;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .dropdown.show { 
            display: block;
            animation: dropdownSlide 0.3s ease-out;
        }
        
        @keyframes dropdownSlide {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .menu-icon {
            cursor: pointer;
            padding: 12px;
            border-radius: 12px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .menu-icon:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            margin: 4px 0;
            border-radius: 12px;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #374151;
            font-weight: 500;
        }
        
        .dropdown-item:hover {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
            transform: translateX(4px);
            box-shadow: 0 4px 15px rgba(236, 72, 153, 0.3);
        }
        
        .dropdown-item i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
        }
        
        .message-bubble {
            max-width: 80%;
            word-wrap: break-word;
        }
        
        .user-message {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
            margin-left: auto;
        }
        
        .ai-message {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .upload-zone {
            border: 2px dashed #cbd5e0;
            transition: all 0.3s ease;
        }
        
        .upload-zone.dragover {
            border-color: #ec4899;
            background: rgba(236, 72, 153, 0.1);
        }
        
        .recording {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .feature-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .feature-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(236, 72, 153, 0.2);
        }
        
        .tool-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .tool-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border-color: rgba(236, 72, 153, 0.5);
        }
        
        .creator-footer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #ec4899 100%);
            position: relative;
            overflow: hidden;
        }
        
        .creator-footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shine 3s infinite;
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .heart-beat {
            animation: heartbeat 2s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-900 via-pink-900 to-indigo-900 min-h-screen">
    <!-- Header -->
    <header class="glass-effect p-4 relative z-50">
        <div class="flex items-center justify-between max-w-7xl mx-auto">
            <!-- Lotus Logo -->
            <div class="flex items-center space-x-3">
                <div class="w-12 h-12 rounded-xl flex items-center justify-center relative overflow-hidden border-2 border-pink-300/30 neon-glow">
                    <!-- Beautiful Lotus SVG -->
                    <svg width="32" height="32" viewBox="0 0 100 100" class="text-pink-300">
                        <defs>
                            <linearGradient id="lotusGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#f59e0b;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <!-- Lotus petals -->
                        <path d="M50 20 C40 30, 40 40, 50 50 C60 40, 60 30, 50 20 Z" fill="url(#lotusGradient)" opacity="0.8"/>
                        <path d="M50 20 C35 25, 30 35, 50 50 C70 35, 65 25, 50 20 Z" fill="url(#lotusGradient)" opacity="0.6"/>
                        <path d="M50 20 C30 30, 25 45, 50 50 C75 45, 70 30, 50 20 Z" fill="url(#lotusGradient)" opacity="0.4"/>
                        <path d="M50 20 C25 35, 20 50, 50 50 C80 50, 75 35, 50 20 Z" fill="url(#lotusGradient)" opacity="0.3"/>
                        <!-- Center -->
                        <circle cx="50" cy="45" r="8" fill="url(#lotusGradient)"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-2xl font-bold text-white">ü™∑ Lakshmi AI</h1>
                    <p class="text-sm text-white/70">Advanced AI Assistant</p>
                </div>
            </div>

            <!-- Top Right Controls -->
            <div class="flex items-center space-x-4 relative">
                <span class="text-white/90 hidden md:block">Welcome! üôè</span>
                <button onclick="logout()" class="bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all">
                    <i class="fas fa-sign-out-alt mr-2"></i>Logout
                </button>
                <div class="menu-icon text-white text-xl" onclick="toggleMenu()">
                    <i class="fas fa-bars"></i>
                </div>
                
                <!-- Beautiful Dropdown Menu -->
                <div class="dropdown" id="menu-dropdown">
                    <div class="text-center mb-3 pb-3 border-b border-gray-200">
                        <div class="text-lg font-bold text-gray-800">ü™∑ Lakshmi AI Tools</div>
                        <div class="text-sm text-gray-600">Choose your trading tool</div>
                    </div>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/strategy" class="dropdown-item">
                        <i class="fas fa-chess text-blue-500"></i>
                        <div>
                            <div class="font-semibold">Strategy Builder</div>
                            <div class="text-xs text-gray-500">Build custom strategies</div>
                        </div>
                    </a>
                    
                    <a href="{{ url_for('strategy_engine') }}" class="dropdown-item">
    <div class="text-pink-500 text-lg">‚öôÔ∏è</div>
    <div>
        <div class="font-semibold">Strategy Engine</div>
        <div class="text-xs text-gray-500">Advanced trading engine</div>
    </div>
</a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/candle" class="dropdown-item">
                        <div class="text-pink-500 text-lg">üïØÔ∏è</div>
                        <div>
                            <div class="font-semibold">Candle Predictor</div>
                            <div class="text-xs text-gray-500">AI price predictions</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/matrix" class="dropdown-item">
                        <i class="fas fa-th text-green-500"></i>
                        <div>
                            <div class="font-semibold">Strategy Matrix</div>
                            <div class="text-xs text-gray-500">Strategy comparison</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/analyzer" class="dropdown-item">
                        <i class="fas fa-chart-line text-orange-500"></i>
                        <div>
                            <div class="font-semibold">Strategy Analyzer</div>
                            <div class="text-xs text-gray-500">Performance analysis</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/ask-ai" class="dropdown-item">
                        <i class="fas fa-robot text-cyan-500"></i>
                        <div>
                            <div class="font-semibold">Ask AI</div>
                            <div class="text-xs text-gray-500">AI trading assistant</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/option-chain" class="dropdown-item">
                        <i class="fas fa-link text-yellow-500"></i>
                        <div>
                            <div class="font-semibold">Option Chain</div>
                            <div class="text-xs text-gray-500">Options data viewer</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/backtester" class="dropdown-item">
                        <i class="fas fa-history text-indigo-500"></i>
                        <div>
                            <div class="font-semibold">Back-tester</div>
                            <div class="text-xs text-gray-500">Strategy backtesting</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/neuron" class="dropdown-item">
                        <i class="fas fa-brain text-red-500"></i>
                        <div>
                            <div class="font-semibold">Neuron Analysis</div>
                            <div class="text-xs text-gray-500">Neural network insights</div>
                        </div>
                    </a>
                    
                    <a href="https://lakshmi-ai-trades.onrender.com/strategy-switcher" class="dropdown-item">
                        <i class="fas fa-exchange-alt text-teal-500"></i>
                        <div>
                            <div class="font-semibold">Strategy Switcher</div>
                            <div class="text-xs text-gray-500">Dynamic strategy switching</div>
                        </div>
                    </a>
                    
                    <div class="border-t border-gray-200 mt-3 pt-3">
                        <a href="https://lakshmi-ai-trades.onrender.com/auth/login" class="block">
                            <button class="w-full bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white px-4 py-3 rounded-lg transition-all font-semibold">
                                <i class="fas fa-sign-in-alt mr-2"></i>Login with Google
                            </button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <div class="lotus-orb mx-auto mb-8 floating-animation">
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="text-white text-4xl font-bold z-10">ü™∑</div>
                </div>
            </div>
            <h1 class="text-5xl md:text-7xl font-bold text-white mb-6">
                Welcome to <span class="holographic">Lakshmi AI</span>
            </h1>
            <p class="text-xl text-white/80 mb-8 max-w-3xl mx-auto">
                Experience the power of advanced AI with real-time conversations, file analysis, voice interaction, and intelligent responses powered by cutting-edge language models.
            </p>
        </div>

        <!-- Main Chat Interface -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 mb-12">
            <!-- AI Chat Interface -->
            <div class="lg:col-span-3 glass-effect rounded-2xl p-6 neon-glow">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold text-white flex items-center">
                        <i class="fas fa-robot mr-3 text-pink-400"></i>
                        Lakshmi AI Assistant
                    </h2>
                    <div class="flex space-x-2">
                        <button onclick="clearChat()" class="text-white/60 hover:text-white transition-all" title="Clear Chat">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button onclick="exportChat()" class="text-white/60 hover:text-white transition-all" title="Export Chat">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div id="chatMessages" class="h-96 overflow-y-auto mb-4 space-y-4 bg-black/20 rounded-xl p-4">
                    <div class="chat-message ai-message message-bubble p-4 rounded-2xl">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                                ü™∑
                            </div>
                            <div>
                                <p class="font-medium mb-1">Lakshmi AI</p>
                                <p>Namaste! I'm Lakshmi AI, your advanced AI assistant. I can help you with analysis, conversations, file processing, and much more. How can I assist you today?</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- File Upload Zone -->
                <div id="uploadZone" class="upload-zone rounded-xl p-4 text-center text-white/60 cursor-pointer mb-4">
                    <i class="fas fa-cloud-upload-alt text-2xl mb-2"></i>
                    <p>Drop files here or click to upload (Images, PDFs, Documents, etc.)</p>
                    <input type="file" id="fileInput" class="hidden" multiple accept="*/*">
                </div>

                <!-- Input Controls -->
                <div class="flex space-x-4 mb-4">
                    <div class="flex-1 relative">
                        <input type="text" id="chatInput" placeholder="Ask me anything..." 
                               class="w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:border-pink-400 focus:ring-2 focus:ring-pink-400/20">
                        <button onclick="toggleVoiceInput()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-all">
                            <i id="voiceIcon" class="fas fa-microphone"></i>
                        </button>
                    </div>
                    <button onclick="sendMessage()" class="bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-all">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                    <button onclick="captureScreen()" class="bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-3 rounded-xl transition-all" title="Screen Capture">
                        <i class="fas fa-camera"></i>
                    </button>
                </div>

                <!-- Quick Actions -->
                <div class="flex flex-wrap gap-2">
                    <button onclick="quickAction('explain')" class="bg-white/10 hover:bg-white/20 text-white px-3 py-1 rounded-full text-sm transition-all">
                        üí° Explain Something
                    </button>
                    <button onclick="quickAction('analyze')" class="bg-white/10 hover:bg-white/20 text-white px-3 py-1 rounded-full text-sm transition-all">
                        üîç Analyze Data
                    </button>
                    <button onclick="quickAction('creative')" class="bg-white/10 hover:bg-white/20 text-white px-3 py-1 rounded-full text-sm transition-all">
                        üé® Creative Writing
                    </button>
                    <button onclick="quickAction('code')" class="bg-white/10 hover:bg-white/20 text-white px-3 py-1 rounded-full text-sm transition-all">
                        üíª Code Help
                    </button>
                </div>
            </div>

            <!-- Usage Stats -->
            <div class="space-y-6">
                <!-- Real-time Stats -->
                <div class="glass-effect rounded-2xl p-6 neon-glow">
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                        <i class="fas fa-chart-bar mr-2 text-green-400"></i>
                        Usage Today
                    </h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-white/80">Messages</span>
                            <div class="text-white font-bold" id="messagesCount">0</div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white/80">Files Uploaded</span>
                            <div class="text-white font-bold" id="filesCount">0</div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white/80">Voice Queries</span>
                            <div class="text-white font-bold" id="voiceCount">0</div>
                        </div>
                    </div>
                </div>

                <!-- AI Status -->
                <div class="glass-effect rounded-2xl p-6 neon-glow">
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                        <i class="fas fa-brain mr-2 text-purple-400"></i>
                        AI Status
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                            <span class="text-white/90 text-sm">OpenRouter API Connected</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                            <span class="text-white/90 text-sm">Voice Recognition Ready</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                            <span class="text-white/90 text-sm">File Processing Active</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Powerful AI Tools Section -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold text-white text-center mb-8">
                <span class="holographic">üõ†Ô∏è Powerful AI Tools</span>
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Language Translator -->
                <div class="tool-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">üåç</div>
                    <h3 class="text-xl font-bold text-white mb-2">Language Translator</h3>
                    <p class="text-white/70 text-sm mb-4">Translate text between 100+ languages instantly with AI precision</p>
                    <button onclick="openTool('translator')" class="bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-4 py-2 rounded-lg transition-all w-full">
                        <i class="fas fa-language mr-2"></i>Start Translating
                    </button>
                </div>

                <!-- Text Summarizer -->
                <div class="tool-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">üìù</div>
                    <h3 class="text-xl font-bold text-white mb-2">Text Summarizer</h3>
                    <p class="text-white/70 text-sm mb-4">Summarize long documents, articles, and texts in seconds</p>
                    <button onclick="openTool('summarizer')" class="bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-4 py-2 rounded-lg transition-all w-full">
                        <i class="fas fa-compress-alt mr-2"></i>Summarize Text
                    </button>
                </div>

                <!-- Content Generator -->
                <div class="tool-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">‚ú®</div>
                    <h3 class="text-xl font-bold text-white mb-2">Content Generator</h3>
                    <p class="text-white/70 text-sm mb-4">Generate creative content, stories, articles, and more</p>
                    <button onclick="openTool('generator')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg transition-all w-full">
                        <i class="fas fa-magic mr-2"></i>Generate Content
                    </button>
                </div>

                <!-- Code Assistant -->
                <div class="tool-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">üíª</div>
                    <h3 class="text-xl font-bold text-white mb-2">Code Assistant</h3>
                    <p class="text-white/70 text-sm mb-4">Get help with programming, debugging, and code optimization</p>
                    <button onclick="openTool('code')" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-4 py-2 rounded-lg transition-all w-full">
                        <i class="fas fa-code mr-2"></i>Code Help
                    </button>
                </div>

                <!-- Image Analyzer -->
                <div class="tool-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">üñºÔ∏è</div>
                    <h3 class="text-xl font-bold text-white mb-2">Image Analyzer</h3>
                    <p class="text-white/70 text-sm mb-4">Analyze images, extract text, and get detailed descriptions</p>
                    <button onclick="openTool('image')" class="bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white px-4 py-2 rounded-lg transition-all w-full">
                        <i class="fas fa-image mr-2"></i>Analyze Images
                    </button>
                </div>

                <!-- Data Processor -->
                <div class="tool-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">üìä</div>
                    <h3 class="text-xl font-bold text-white mb-2">Data Processor</h3>
                    <p class="text-white/70 text-sm mb-4">Process CSV, Excel files and generate insights from data</p>
                    <button onclick="openTool('data')" class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-4 py-2 rounded-lg transition-all w-full">
                        <i class="fas fa-database mr-2"></i>Process Data
                    </button>
                </div>
            </div>
        </div>

        <!-- Feature Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <div class="feature-card glass-effect rounded-2xl p-6 text-center neon-glow">
                <div class="text-4xl mb-4">üß†</div>
                <h3 class="text-xl font-bold text-white mb-2">Advanced AI</h3>
                <p class="text-white/70 text-sm mb-4">Powered by state-of-the-art language models for intelligent conversations</p>
                <button onclick="quickAction('ai-demo')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg transition-all">
                    Try Now
                </button>
            </div>

            <div class="feature-card glass-effect rounded-2xl p-6 text-center neon-glow">
                <div class="text-4xl mb-4">üìÅ</div>
                <h3 class="text-xl font-bold text-white mb-2">File Analysis</h3>
                <p class="text-white/70 text-sm mb-4">Upload and analyze documents, images, and data files with AI</p>
                <button onclick="document.getElementById('fileInput').click()" class="bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-4 py-2 rounded-lg transition-all">
                    Upload File
                </button>
            </div>

            <div class="feature-card glass-effect rounded-2xl p-6 text-center neon-glow">
                <div class="text-4xl mb-4">üé§</div>
                <h3 class="text-xl font-bold text-white mb-2">Voice Input</h3>
                <p class="text-white/70 text-sm mb-4">Speak naturally and get intelligent responses with voice recognition</p>
                <button onclick="toggleVoiceInput()" class="bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-4 py-2 rounded-lg transition-all">
                    Start Speaking
                </button>
            </div>

            <div class="feature-card glass-effect rounded-2xl p-6 text-center neon-glow">
                <div class="text-4xl mb-4">üì∏</div>
                <h3 class="text-xl font-bold text-white mb-2">Screen Capture</h3>
                <p class="text-white/70 text-sm mb-4">Capture screenshots and get AI analysis of visual content</p>
                <button onclick="captureScreen()" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-4 py-2 rounded-lg transition-all">
                    Capture Screen
                </button>
            </div>
        </div>
    </div>

    <!-- Professional Creator Footer -->
    <footer class="creator-footer py-16 mt-20 relative">
        <div class="max-w-7xl mx-auto px-4 relative z-10">
            <!-- Main Footer Content -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <!-- Creator Section -->
                <div class="text-center md:text-left">
                    <div class="flex items-center justify-center md:justify-start mb-4">
                        <div class="w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center text-2xl mr-4">
                            ü™∑
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-white">
                                <span class="holographic">Monjit</span>
                            </h3>
                            <p class="text-white/70 text-sm">Creator & Developer</p>
                        </div>
                    </div>
                    <p class="text-white/80 text-sm leading-relaxed">
                        Passionate about building innovative AI solutions that empower users and transform the way we interact with technology.
                    </p>
                </div>

                <!-- Technologies -->
                <div class="text-center">
                    <h4 class="text-xl font-bold text-white mb-4">Built With</h4>
                    <div class="grid grid-cols-2 gap-3 text-sm">
                        <div class="flex items-center justify-center space-x-2 bg-white/10 rounded-lg py-2 px-3">
                            <i class="fab fa-js-square text-yellow-400"></i>
                            <span class="text-white/90">JavaScript</span>
                        </div>
                        <div class="flex items-center justify-center space-x-2 bg-white/10 rounded-lg py-2 px-3">
                            <i class="fab fa-python text-blue-400"></i>
                            <span class="text-white/90">Python</span>
                        </div>
                        <div class="flex items-center justify-center space-x-2 bg-white/10 rounded-lg py-2 px-3">
                            <i class="fas fa-robot text-purple-400"></i>
                            <span class="text-white/90">OpenAI</span>
                        </div>
                        <div class="flex items-center justify-center space-x-2 bg-white/10 rounded-lg py-2 px-3">
                            <i class="fas fa-cloud text-cyan-400"></i>
                            <span class="text-white/90">Cloud AI</span>
                        </div>
                    </div>
                </div>

                <!-- Professional Info -->
                <div class="text-center md:text-right">
                    <h4 class="text-xl font-bold text-white mb-4">Professional</h4>
                    <div class="space-y-3 text-sm">
                        <div class="flex items-center justify-center md:justify-end space-x-2">
                            <i class="fas fa-code text-blue-400"></i>
                            <span class="text-white/90">Full Stack Developer</span>
                        </div>
                        <div class="flex items-center justify-center md:justify-end space-x-2">
                            <i class="fas fa-brain text-purple-400"></i>
                            <span class="text-white/90">AI/ML Engineer</span>
                        </div>
                        <div class="flex items-center justify-center md:justify-end space-x-2">
                            <i class="fas fa-chart-line text-green-400"></i>
                            <span class="text-white/90">Trading Systems</span>
                        </div>
                        <div class="flex items-center justify-center md:justify-end space-x-2">
                            <i class="fas fa-rocket text-orange-400"></i>
                            <span class="text-white/90">Innovation Leader</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Divider -->
            <div class="border-t border-white/20 pt-8">
                <!-- Bottom Section -->
                <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                    <div class="text-center md:text-left">
                        <p class="text-white/90 font-medium mb-1">
                            Created with <span class="heart-beat text-red-400">‚ù§Ô∏è</span> and Innovation
                        </p>
                        <p class="text-white/60 text-sm">
                            Empowering traders with AI-driven insights and strategies
                        </p>
                    </div>
                    
                    <div class="text-center">
                        <div class="flex items-center justify-center space-x-2 mb-2">
                            <span class="text-white/90 font-medium">Made in India</span>
                            <span class="text-2xl">üáÆüá≥</span>
                        </div>
                        <p class="text-white/50 text-sm">
                            ¬© 2025 Lakshmi AI ‚Ä¢ All Rights Reserved
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Global variables
        let isRecording = false;
        let recognition = null;
        let chatHistory = [];
        let conversationId = generateConversationId();

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            loadChatHistory();
            loadUsageStats();
        });

        function generateConversationId() {
            return 'conv_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function initializeApp() {
            // Initialize speech recognition
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('chatInput').value = transcript;
                    updateUsageStats('voice');
                    sendMessage();
                };
                
                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                    showNotification('Voice input error: ' + event.error, 'error');
                    stopRecording();
                };

                recognition.onend = function() {
                    stopRecording();
                };
            }

            showNotification('ü™∑ Lakshmi AI is ready to assist you!', 'success');
        }

        function setupEventListeners() {
            // Chat input enter key
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            // File upload
            const fileInput = document.getElementById('fileInput');
            const uploadZone = document.getElementById('uploadZone');

            uploadZone.addEventListener('click', () => fileInput.click());
            uploadZone.addEventListener('dragover', handleDragOver);
            uploadZone.addEventListener('drop', handleFileDrop);
            fileInput.addEventListener('change', handleFileSelect);

            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.menu-icon') && !e.target.closest('.dropdown')) {
                    document.getElementById('menu-dropdown').classList.remove('show');
                }
            });
        }

        function toggleMenu() {
            const dropdown = document.getElementById('menu-dropdown');
            dropdown.classList.toggle('show');
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = 'https://lakshmi-ai-trades.onrender.com/logout';
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message to chat
            addMessageToChat(message, 'user');
            input.value = '';
            updateUsageStats('messages');

            // Show typing indicator
            showTypingIndicator();

            try {
                // Use your actual API endpoint
                const response = await fetch('https://lakshmi-ai-trades.onrender.com/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        message: message,
                        conversation_id: conversationId,
                        timestamp: new Date().toISOString()
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                removeTypingIndicator();
                
                if (data.error) {
                    throw new Error(data.error);
                }
                
                const aiResponse = data.response || data.message || data.reply || 'I received your message successfully!';
                addMessageToChat(aiResponse, 'ai');
                
                // Save to history
                chatHistory.push({ 
                    message, 
                    response: aiResponse, 
                    timestamp: new Date(),
                    conversation_id: conversationId
                });
                saveChatHistory();
                
            } catch (error) {
                removeTypingIndicator();
                console.error('API Error:', error);
                
                // Fallback to your ask-ai endpoint if main chat fails
                try {
                    const fallbackResponse = await fetch('https://lakshmi-ai-trades.onrender.com/ask-ai', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            question: message,
                            conversation_id: conversationId
                        })
                    });
                    
                    if (fallbackResponse.ok) {
                        const fallbackData = await fallbackResponse.json();
                        const aiResponse = fallbackData.response || fallbackData.answer || 'I received your message!';
                        addMessageToChat(aiResponse, 'ai');
                        return;
                    }
                } catch (fallbackError) {
                    console.error('Fallback API Error:', fallbackError);
                }
                
                addMessageToChat('I apologize, but I\'m having trouble connecting to my AI services right now. Please check your connection and try again.', 'ai');
                showNotification('Connection error. Please try again.', 'error');
            }
        }

        function addMessageToChat(message, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}-message message-bubble p-4 rounded-2xl`;
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3 justify-end">
                        <div class="text-right">
                            <p class="font-medium mb-1">You</p>
                            <p>${escapeHtml(message)}</p>
                        </div>
                        <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-white text-sm"></i>
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                            ü™∑
                        </div>
                        <div>
                            <p class="font-medium mb-1">Lakshmi AI</p>
                            <p>${escapeHtml(message)}</p>
                        </div>
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'chat-message ai-message message-bubble p-4 rounded-2xl';
            typingDiv.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                        ü™∑
                    </div>
                    <div>
                        <p class="font-medium mb-1">Lakshmi AI</p>
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator" style="animation-delay: 0.2s;"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator" style="animation-delay: 0.4s;"></div>
                        </div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function toggleVoiceInput() {
            if (!recognition) {
                showNotification('Voice input not supported in this browser', 'error');
                return;
            }

            if (isRecording) {
                recognition.stop();
            } else {
                recognition.start();
                startRecording();
                showNotification('üé§ Listening... Speak now!', 'info');
            }
        }

        function startRecording() {
            isRecording = true;
            const voiceIcon = document.getElementById('voiceIcon');
            voiceIcon.className = 'fas fa-microphone recording';
            voiceIcon.style.color = '#ef4444';
        }

        function stopRecording() {
            isRecording = false;
            const voiceIcon = document.getElementById('voiceIcon');
            voiceIcon.className = 'fas fa-microphone';
            voiceIcon.style.color = '';
        }

        function updateUsageStats(type) {
            const today = new Date().toDateString();
            let stats = JSON.parse(localStorage.getItem('lakshmi-usage-stats') || '{}');
            
            if (!stats[today]) {
                stats[today] = { messages: 0, files: 0, voice: 0 };
            }
            
            stats[today][type]++;
            localStorage.setItem('lakshmi-usage-stats', JSON.stringify(stats));
            
            // Update display
            const todayStats = stats[today];
            document.getElementById('messagesCount').textContent = todayStats.messages;
            document.getElementById('filesCount').textContent = todayStats.files;
            document.getElementById('voiceCount').textContent = todayStats.voice;
        }

        function loadUsageStats() {
            const today = new Date().toDateString();
            const stats = JSON.parse(localStorage.getItem('lakshmi-usage-stats') || '{}');
            const todayStats = stats[today] || { messages: 0, files: 0, voice: 0 };
            
            document.getElementById('messagesCount').textContent = todayStats.messages;
            document.getElementById('filesCount').textContent = todayStats.files;
            document.getElementById('voiceCount').textContent = todayStats.voice;
        }

        async function captureScreen() {
            try {
                if (!navigator.mediaDevices || !navigator.mediaDevices.getDisplayMedia) {
                    showNotification('Screen capture not supported in this browser', 'error');
                    return;
                }

                const stream = await navigator.mediaDevices.getDisplayMedia({ 
                    video: { mediaSource: 'screen' } 
                });
                
                const video = document.createElement('video');
                video.srcObject = stream;
                video.play();
                
                video.addEventListener('loadedmetadata', () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(video, 0, 0);
                    
                    canvas.toBlob(async (blob) => {
                        const file = new File([blob], 'screenshot.png', { type: 'image/png' });
                        await handleFileUpload(file);
                        stream.getTracks().forEach(track => track.stop());
                    });
                });
            } catch (error) {
                console.error('Screen capture error:', error);
                showNotification('Screen capture failed: ' + error.message, 'error');
            }
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleFileDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            files.forEach(handleFileUpload);
        }

        function handleFileSelect(e) {
            const files = Array.from(e.target.files);
            files.forEach(handleFileUpload);
        }

        async function handleFileUpload(file) {
            const maxSize = 50 * 1024 * 1024; // 50MB
            if (file.size > maxSize) {
                showNotification('File too large. Maximum size is 50MB.', 'error');
                return;
            }

            updateUsageStats('files');
            showNotification(`üì§ Uploading ${file.name}...`, 'info');
            
            try {
                const base64 = await fileToBase64(file);
                
                addMessageToChat(`üìé Uploaded: ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`, 'user');
                
                showTypingIndicator();
                
                const response = await fetch('https://lakshmi-ai-trades.onrender.com/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        message: `I've uploaded a file named "${file.name}". Please analyze this ${file.type.includes('image') ? 'image' : 'document'} and provide insights.`,
                        file: {
                            name: file.name,
                            type: file.type,
                            size: file.size,
                            data: base64
                        },
                        conversation_id: conversationId,
                        timestamp: new Date().toISOString()
                    })
                });

                const data = await response.json();
                removeTypingIndicator();
                
                if (data.error) {
                    throw new Error(data.error);
                }
                
                const aiResponse = data.response || 'I\'ve received your file successfully! How would you like me to analyze it?';
                addMessageToChat(aiResponse, 'ai');
                showNotification('‚úÖ File uploaded and analyzed!', 'success');
                
            } catch (error) {
                removeTypingIndicator();
                console.error('File upload error:', error);
                addMessageToChat('I received your file but had trouble analyzing it. Please describe what you\'d like me to help you with regarding this file.', 'ai');
                showNotification('‚ö†Ô∏è File uploaded, but analysis failed', 'warning');
            }
        }

        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result.split(',')[1]);
                reader.onerror = error => reject(error);
            });
        }

        function quickAction(action) {
            const actions = {
                'explain': 'Can you explain how quantum computing works in simple terms?',
                'analyze': 'Help me analyze data trends and patterns',
                'creative': 'Write a creative short story about AI and humans working together',
                'code': 'Help me write a Python function to sort a list',
                'ai-demo': 'Show me what advanced AI capabilities you have'
            };
            
            document.getElementById('chatInput').value = actions[action] || 'Hello! What can you help me with?';
            sendMessage();
        }

        function openTool(tool) {
            const prompts = {
                'translator': 'Please translate the following text to different languages: ',
                'summarizer': 'Please summarize this long text for me: ',
                'generator': 'Generate creative content about: ',
                'code': 'Help me with programming: ',
                'image': 'Please upload an image and I\'ll analyze it for you!',
                'data': 'Please upload a CSV or Excel file and I\'ll process the data for you!'
            };
            
            const input = document.getElementById('chatInput');
            input.value = prompts[tool] || 'Help me with: ';
            input.focus();
            
            if (tool === 'image' || tool === 'data') {
                document.getElementById('fileInput').click();
            }
        }

        function clearChat() {
            if (confirm('Are you sure you want to clear the chat history?')) {
                document.getElementById('chatMessages').innerHTML = `
                    <div class="chat-message ai-message message-bubble p-4 rounded-2xl">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                                ü™∑
                            </div>
                            <div>
                                <p class="font-medium mb-1">Lakshmi AI</p>
                                <p>Namaste! I'm Lakshmi AI, your advanced AI assistant. I can help you with analysis, conversations, file processing, and much more. How can I assist you today?</p>
                            </div>
                        </div>
                    </div>
                `;
                chatHistory = [];
                conversationId = generateConversationId();
                saveChatHistory();
                showNotification('üóëÔ∏è Chat cleared successfully!', 'success');
            }
        }

        function exportChat() {
            if (chatHistory.length === 0) {
                showNotification('üìù No chat history to export', 'info');
                return;
            }

            const chatData = {
                exported_at: new Date().toISOString(),
                conversation_id: conversationId,
                total_messages: chatHistory.length,
                messages: chatHistory.map(item => ({
                    timestamp: item.timestamp,
                    user_message: item.message,
                    ai_response: item.response
                }))
            };

            const blob = new Blob([JSON.stringify(chatData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `lakshmi-ai-chat-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('üì• Chat history exported successfully!', 'success');
        }

        function saveChatHistory() {
            try {
                localStorage.setItem('lakshmi-chat-history', JSON.stringify(chatHistory));
            } catch (error) {
                console.error('Failed to save chat history:', error);
            }
        }

        function loadChatHistory() {
            try {
                const saved = localStorage.getItem('lakshmi-chat-history');
                if (saved) {
                    chatHistory = JSON.parse(saved);
                }
            } catch (error) {
                console.error('Failed to load chat history:', error);
                chatHistory = [];
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full max-w-sm`;
            
            const colors = {
                success: 'bg-green-500 text-white',
                error: 'bg-red-500 text-white',
                info: 'bg-blue-500 text-white',
                warning: 'bg-yellow-500 text-black'
            };
            
            notification.className += ` ${colors[type] || colors.info}`;
            notification.innerHTML = `
                <div class="flex items-center justify-between">
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-3 text-white hover:text-gray-200">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }
            }, 5000);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97556c7b904ea73f',t:'MTc1NjIzMzI3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
